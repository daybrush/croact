<div></div>

<script src="../../dist/croact.umd.js"></script>
<script>
    const context1 = Croact.createContext("HI");

    let i = 0;
    function App(props, context) {
        setTimeout(() => {
            ++i;
            this.forceUpdate();
            // console.log("Out", Croact.useRef(1).current);
        }, 1000);

        const ref1 = Croact.useRef(1);
        const ref2 = Croact.useRef(1).current;

        return Croact.createElement(context1.Provider, { value: "아 이거 아닌데" + i }, [
            Croact.createElement(App2, { i }),
        ]);
    }


    function App2(props, context) {
        return Croact.createElement("div", {}, [
            Croact.createElement(App3, { }),
        ]);
    }

    function App3(props, context) {
        return Croact.createElement("div", {}, [
            "HI",
        ]);
    }
    App3.contextType = context1;
    Croact.render(
        Croact.createElement(App),
        document.querySelector("div"),
    );
</script>